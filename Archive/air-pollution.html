<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap 5.3.0-alpha3 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"
        integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>

    <!-- Material icons -->
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght@300" rel="stylesheet" />

    <script type="text/javascript"
        src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=96kmjwxr19&submodules=geocoder&callback=createMap"></script>

    <script src="common.js"></script>
    <script src="clustering.js"></script>

    <link href="common.css" rel="stylesheet" />
    <link href="air-pollution.css" rel="stylesheet" />

    <title>Air Pollution Information</title>
</head>

<body class="container-fluid d-flex flex-row">
    <aside class="d-flex flex-column flex-shrink-0 bg-body-tertiary left-navigation" style="width: 4.5rem;">
        <ul class="nav nav-pills nav-flush flex-column mb-auto text-center">
            <li class="nav-item">
                <a href="main.html" class="nav-link py-3 border-bottom rounded-0" title="Home" data-bs-toggle="tooltip"
                    data-bs-placement="right">
                    <span class="material-symbols-outlined icon icon-inactive">home</span>
                </a>
            </li>
            <li>
                <a href="air-pollution.html" class="nav-link py-3 active border-bottom rounded-0" title="Air pollution"
                    data-bs-toggle="tooltip" data-bs-placement="right">
                    <span class="material-symbols-outlined icon">foggy</span>
                </a>
            </li>
            <li>
                <a href="covid-19.html" class="nav-link py-3 border-bottom rounded-0" title="COVID-19"
                    data-bs-toggle="tooltip" data-bs-placement="right">
                    <span class="material-symbols-outlined icon icon-inactive">coronavirus</span>
                </a>
            </li>
            <li>
                <a href="forest-fire.html" class="nav-link py-3 border-bottom rounded-0" title="Forest fire"
                    data-bs-toggle="tooltip" data-bs-placement="right">
                    <span class="material-symbols-outlined icon icon-inactive">local_fire_department</span>
                </a>
            </li>
            <li>
                <a href="flood.html" class="nav-link py-3 border-bottom rounded-0" title="Flood"
                    data-bs-toggle="tooltip" data-bs-placement="right">
                    <span class="material-symbols-outlined icon icon-inactive">flood</span>
                </a>
            </li>
            <li>
                <a href="earthquake.html" class="nav-link py-3 border-bottom rounded-0" title="Earthquake"
                    data-bs-toggle="tooltip" data-bs-placement="right">
                    <span class="material-symbols-outlined icon icon-inactive">earthquake</span>
                </a>
            </li>
        </ul>
    </aside>

    <div class="left-panel">
        <div id="overall-info">
            <h2 class="pb-2">Air Pollution</h2>
            <nav>
                <div class="nav nav-tabs mb-3" id="nav-tab" role="tablist">
                    <button class="nav-link active" id="nav-info-tab" data-bs-toggle="tab"
                        data-bs-target="#nav-overview" type="button" role="tab" aria-controls="nav-home"
                        aria-selected="true">Overview</button>
                    <button class="nav-link" id="nav-alerts-tab" data-bs-toggle="tab" data-bs-target="#nav-alerts"
                        type="button" role="tab" aria-controls="nav-profile" aria-selected="false"
                        tabindex="-1">Alerts</button>
                </div>
            </nav>
            <div class="tab-content" id="nav-tabContent">
                <div class="tab-pane fade show active" id="nav-overview" role="tabpanel"
                    aria-labelledby="nav-overview-tab">
                    <iframe class="tips-video" src="https://www.youtube.com/embed/L6i-xAc_YVQ"
                        title="[안전교육] 미세먼지 대처법의 모든 것 ㅣ 미세먼지 하우투(How to)" frameborder="0"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                        allowfullscreen></iframe>
                    <table class="tips-table">
                        <tr>
                            <td>
                                <img src="images/tips/air-pollution-1.png" class="img-fluid">
                            </td>
                            <td>
                                <h5 class="fw-bold fs-4 text-body-emphasis">Wear a mask</h5>
                                <p>When an advisory is issued, wear a mask when going out inevitably.</p>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <img src="images/tips/air-pollution-2.png" class="img-fluid">
                            </td>
                            <td>
                                <h5 class="fw-bold mb-0 fs-4 text-body-emphasis">Avoid high-traffic areas</h5>
                                <p>When a advisory is issued, it is recommended to avoid high-traffic areas.</p>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <img src="images/tips/air-pollution-3.png" class="img-fluid">
                            </td>
                            <td>
                                <h5 class="fw-bold mb-0 fs-4 text-body-emphasis">Prohibit from outdoor activities</h5>
                                <p>Elderly people and sensitive groups (children, the elderly, people with lung
                                    disease/heart disease) refrain from outdoor activities when a pulmonary/cardiac
                                    warning is issued.</p>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <img src="images/tips/air-pollution-4.png" class="img-fluid">
                            </td>
                            <td>
                                <h3 class="fw-bold mb-0 fs-4 text-body-emphasis">Wash and take water and vitamin C</h3>
                                <p>When you come home, wash your hands and feet thoroughly and take water and vitamin C.
                                </p>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <img src="images/tips/air-pollution-5.png" class="img-fluid">
                            </td>
                            <td>
                                <h3 class="fw-bold mb-0 fs-4 text-body-emphasis">Ventilation and frequent water cleaning
                                </h3>
                                <p>properly ventilate the room and frequently clean with water.</p>
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="tab-pane fade" id="nav-alerts" role="tabpanel" aria-labelledby="nav-alerts-tab">
                </div>
            </div>

        </div>

        <div id="detail-info" style="display: none">
            <div class="image-container" style="background-image: url('images/fine-dust-background.jpg');">
                <div class="image-overlay">
                    <div class="image-title text-center">
                        <h1>Air Pollution Information</h1>
                    </div>
                </div>
            </div>

            <ul class="detail-info-body list-group list-group-flush">
                <li class="list-group-item">
                    <div>
                        <small class="text-body-secondary gap-2 align-items-center d-flex">
                            <span class="material-symbols-outlined fs-5">location_on</span>
                            <span>Station Name</span>
                        </small>
                        <span id="air-station-name"></span>
                    </div>
                </li>
                <li class="list-group-item">
                    <div>
                        <small class="text-body-secondary gap-2 align-items-center d-flex">
                            <span class="material-symbols-outlined fs-5">location_on</span>
                            <span>Station Address</span>
                        </small>
                        <span id="air-station-address"></span>
                    </div>
                </li>
                <li class="list-group-item">
                    <div>
                        <small class="text-body-secondary gap-2 align-items-center d-flex">
                            <span class="material-symbols-outlined fs-5">air</span>
                            <span>Ultrafine Dust (PM 2.5) Concentration</span>
                        </small>
                        <span id="air-pm25-value"></span>
                        <span> ㎍/m³</span>
                        <span id="air-pm25-grade" class="float-end"></span>
                    </div>
                </li>
                <li class="list-group-item">
                    <div>
                        <small class="text-body-secondary gap-2 align-items-center d-flex">
                            <span class="material-symbols-outlined fs-5">air</span>
                            <span>Fine Dust (PM 10) Concentration</span>
                        </small>
                        <span id="air-pm10-value"></span>
                        <span> ㎍/m³ </span>
                        <span id="air-pm10-grade" class="float-end"></span>
                    </div>
                </li>
                <li class="list-group-item">
                    <div>
                        <small class="text-body-secondary gap-2 align-items-center d-flex">
                            <span class="material-symbols-outlined fs-5">air</span>
                            <span>Ozone (O₃) Concentration</span>
                        </small>
                        <span id="air-o3-value"></span>
                        <span> ppm</span>
                        <span id="air-o3-grade" class="float-end"></span>
                    </div>
                </li>
                <li class="list-group-item">
                    <div>
                        <small class="text-body-secondary gap-2 align-items-center d-flex">
                            <span class="material-symbols-outlined fs-5">schedule</span>
                            <span>Data Time</span>
                        </small>
                        <span id="air-data-time"></span>
                    </div>
                </li>
            </ul>
        </div>

        <div id="forecast-info" style="display: none">
            <div class="image-container" style="background-image: url('images/fine-dust-background.jpg');">
                <div class="image-overlay">
                    <div class="image-title text-center">
                        <h1>Air pollution Forecast</h1>
                    </div>
                </div>
            </div>

            <ul class="detail-info-body list-group list-group-flush">
                <li class="list-group-item">
                    <div>
                        <small class="text-body-secondary gap-2 align-items-center d-flex">
                            <span class="material-symbols-outlined fs-5">location_on</span>
                            <span>Region Name</span>
                        </small>
                        <span id="air-forecast-region-name"></span>
                    </div>
                </li>
                <li class="list-group-item">
                    <div>
                        <small class="text-body-secondary gap-2 align-items-center d-flex">
                            <span class="material-symbols-outlined fs-5">event</span>
                            <span>Forecast Date</span>
                        </small>
                        <span id="air-forecast-date"></span>
                    </div>
                </li>
                <li class="list-group-item">
                    <div>
                        <small class="text-body-secondary gap-2 align-items-center d-flex">
                            <span class="material-symbols-outlined fs-5">air</span>
                            <span id="air-forecast-type">Ultrafine Dust (PM 2.5) Forecast</span>
                        </small>
                        <span id="air-forecast-grade"></span>
                    </div>
                </li>
                <li class="list-group-item">
                    <div>
                        <small class="text-body-secondary gap-2 align-items-center d-flex">
                            <span class="material-symbols-outlined fs-5">notes</span>
                            <span>Analysis</span>
                        </small>
                        <span id="air-forecast-analysis"></span>
                    </div>
                </li>
                <li class="list-group-item">
                    <div>
                        <small class="text-body-secondary gap-2 align-items-center d-flex">
                            <span class="material-symbols-outlined fs-5">schedule</span>
                            <span>Announced Time</span>
                        </small>
                        <span id="air-forecast-announced-time"></span>
                    </div>
                </li>
            </ul>
        </div>
    </div>

    <div class="container">
        <div id="map"></div>

        <div class="top-filters-group" role="group">
            <input type="radio" class="btn-check" name="pollution-type" id="radio-pm25" autocomplete="off"
                onclick="showData()" checked>
            <label class="btn btn-light" for="radio-pm25">Ultrafine Dust</label>

            <input type="radio" class="btn-check" name="pollution-type" id="radio-pm10" autocomplete="off"
                onclick="showData()">
            <label class="btn btn-light" for="radio-pm10">Fine Dust</label>

            <input type="radio" class="btn-check" name="pollution-type" id="radio-o3" autocomplete="off"
                onclick="showData()">
            <label class="btn btn-light" for="radio-o3">Ozone</label>
        </div>

        <div class="bottom-filters-group" role="group">
            <input type="radio" class="btn-check" name="data-time" id="radio-current" autocomplete="off"
                onclick="showData()" checked>
            <label class="btn btn-light" for="radio-current">Current</label>

            <input type="radio" class="btn-check" name="data-time" id="radio-today-forecast" autocomplete="off"
                onclick="showData()">
            <label class="btn btn-light" for="radio-today-forecast">Today Forecast</label>

            <input type="radio" class="btn-check" name="data-time" id="radio-tomorrow-forecast" autocomplete="off"
                onclick="showData()">
            <label class="btn btn-light" for="radio-tomorrow-forecast">Tomorrow Forecast</label>

            <input type="radio" class="btn-check" name="data-time" id="radio-2d-forecast" autocomplete="off"
                onclick="showData()">
            <label class="btn btn-light" for="radio-2d-forecast">+2d Forecast</label>
        </div>

        <div class="search-dropdown dropdown">
            <div class="search-form">
                <span class="material-symbols-outlined fs-5">search</span>
                <input type="text" id="search-input" class="form-control form-input" placeholder="Input place">
            </div>
            <ul id="search-suggestions" class="list-group">
            </ul>
        </div>

        <button type="button" class="btn btn-light location-button" onclick="panToMyPosition()">
            <span class="material-symbols-outlined">my_location</span>
        </button>

        <div class="map-card card shadow-sm">
            <div class="card-body">
                <div class="legend air-pollution-grade1"></div>Good<br>
                <div class="legend air-pollution-grade2"></div>Moderate<br>
                <div class="legend air-pollution-grade3"></div>Unhealthy<br>
                <div class="legend air-pollution-grade4"></div>Very unhealthy<br>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>
    <script src="air-pollution.js"></script>
</body>

</html>